{
  "hash": "a45bce3eff2fedf07fcb364a719c7f68",
  "result": {
    "markdown": "---\ntitle: \"life-expectancy\"\nformat: html\nknitr:\n  opts_chunk:\n    fig.path: ../figs/\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlife_exp <- read_csv(\"../data/DP_LIVE_11122023092440528.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 8449 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): LOCATION, INDICATOR, SUBJECT, MEASURE, FREQUENCY, Flag Codes\ndbl (2): TIME, Value\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nhealth_spend <- read_csv(\"../data/SHA_11122023093838475.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 23231 Columns: 21\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (15): HF, Financing scheme, HC, Function, HP, Provider, MEASURE, Measure...\ndbl  (6): TIME, Year, PowerCode Code, Reference Period Code, Reference Perio...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nexp2020 <- life_exp |> \n  filter(TIME == 2020 & SUBJECT == \"TOT\") |> \n  group_by(LOCATION) |> \n  summarise(\n    years = Value\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot per capita government spending on health\n\nspend2020_govt <- health_spend |> \n  filter(\n    `Financing scheme` == \"Government/compulsory schemes\",\n    Provider == \"All providers\",\n    Measure == \"Per capita, current prices, current PPPs\",\n  ) |> \n  group_by(LOCATION) |> \n  summarise(\n    total = sum(Value)\n  )\n\nfull <- full_join(spend2020_govt, exp2020,\n          by = \"LOCATION\")\n\nggplot(full, aes(total, years)) +\n  geom_point() +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](../figs/govt-expenditure-percapita-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}